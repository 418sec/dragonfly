<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>File: ActiveRecord</title>
<link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="js/app.js"></script>

  </head>
  <body>
    
    <!-- GOOGLE ANALYTICS -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-16382932-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    <!-- *************** -->
    
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header" class="clearfix">
      
      <div id="logo">DRAGONFLY (v 0.6.2)</div>
      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

    </div>
    
    <div>
      <iframe id="search_frame"></iframe>
    </div>
    
    <div id="content" class="clearfix">
      <div class="col1">
        <div id='filecontents'><h1>ActiveRecord Extensions</h1>

<p>Dragonfly provides a module that extends ActiveRecord so that you can access Dragonfly objects as if they were just another model attribute.</p>

<h2>Registering with ActiveRecord</h2>

<p>If you've used a rails generator, or required the file 'dragonfly/rails/images.rb', then this step will be already done for you.</p>

<p>Suppose we have a dragonfly app</p>

<pre class="code"><span class='id app'>app</span> <span class='op'>=</span> <span class='const'>Dragonfly</span><span class='op'>::</span><span class='const'>App</span><span class='lbracket'>[</span><span class='symbol'>:my_app_name</span><span class='rbracket'>]</span>
</pre>

<p>We can define an accessor on ActiveRecord models using</p>

<pre class="code"><span class='const'>Dragonfly</span><span class='period'>.</span><span class='id active_record_macro'>active_record_macro</span><span class='lparen'>(</span><span class='symbol'>:image</span><span class='comma'>,</span> <span class='id app'>app</span><span class='rparen'>)</span>
</pre>

<p>The first argument is the prefix for the accessor macro (in this case 'image').</p>

<h2>Adding accessors</h2>

<p>Now we have the method <code>image_accessor</code> available in our model classes, which we can use as many times as we like</p>

<pre class="code"><span class='kw'>class</span> <span class='const'>Album</span>
  <span class='id image_accessor'>image_accessor</span> <span class='symbol'>:cover_image</span>
  <span class='id image_accessor'>image_accessor</span> <span class='symbol'>:band_photo</span>  <span class='comment'># Note: this is a different image altogether, not a thumbnail of cover_image
</span><span class='kw'>end</span>
</pre>

<p>For each accessor, we need a database field ..._uid, as a string, so in our migrations:</p>

<pre class="code"><span class='kw'>class</span> <span class='const'>MyMigration</span> <span class='op'>&lt;</span> <span class='const'>ActiveRecord</span><span class='op'>::</span><span class='const'>Migration</span>

  <span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id up'>up</span>
    <span class='id add_column'>add_column</span> <span class='symbol'>:albums</span><span class='comma'>,</span> <span class='symbol'>:cover_image_uid</span><span class='comma'>,</span> <span class='symbol'>:string</span>
    <span class='id add_column'>add_column</span> <span class='symbol'>:albums</span><span class='comma'>,</span> <span class='symbol'>:band_photo_uid</span><span class='comma'>,</span> <span class='symbol'>:string</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id down'>down</span>
    <span class='id remove_column'>remove_column</span> <span class='symbol'>:albums</span><span class='comma'>,</span> <span class='symbol'>:cover_image_uid</span>
    <span class='id remove_column'>remove_column</span> <span class='symbol'>:albums</span><span class='comma'>,</span> <span class='symbol'>:band_photo_uid</span>
  <span class='kw'>end</span>

<span class='kw'>end</span>
</pre>

<h2>Using the accessors</h2>

<p>We can use the attribute much like other other active record attributes:</p>

<pre class="code"><span class='id album'>album</span> <span class='op'>=</span> <span class='const'>Album</span><span class='period'>.</span><span class='id new'>new</span>

<span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\377???JFIF\000\...</span><span class='tstring_end'>&quot;</span></span>             <span class='comment'># can assign as a string...
</span><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>path/to/my_image.png</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>  <span class='comment'># ... or as a file...
</span><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span> <span class='op'>=</span> <span class='id some_tempfile'>some_tempfile</span>                     <span class='comment'># ... or as a tempfile
</span>
<span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span>          <span class='comment'># =&gt; #&lt;Dragonfly::ActiveRecordExtensions::Attachment:0x103ef6128...
</span>
<span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span>          <span class='comment'># =&gt; nil
</span></pre>

<p>We can inspect properties of the attribute</p>

<pre class="code"><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id width'>width</span>                          <span class='comment'># =&gt; 280
</span><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id height'>height</span>                         <span class='comment'># =&gt; 140
</span><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id number_of_colours'>number_of_colours</span>              <span class='comment'># =&gt; 34703 (can also use American spelling)
</span><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id mime_type'>mime_type</span>                      <span class='comment'># =&gt; 'image/png'
</span></pre>

<p>The properties available (i.e. 'width', etc.) come from the app's registered analysers - see <a href="file.Analysers.html" title="Analysers">Analysers</a>.</p>

<p>We can play around with the data</p>

<pre class="code"><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id data'>data</span>                           <span class='comment'># =&gt; &quot;\377???JFIF\000\...&quot;
</span><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id to_file'>to_file</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>out.png</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>             <span class='comment'># writes to file 'out.png' and returns a readable file object
</span><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id tempfile'>tempfile</span>                       <span class='comment'># =&gt; #&lt;File:/var/folders/st/strHv74sH044JPabSiODz... a closed Tempfile object
</span><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id file'>file</span>                           <span class='comment'># =&gt; #&lt;File:/var/folders/st/strHv74sH044JPabSiODz... a readable (open) File object
</span><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id file'>file</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id f'>f</span><span class='op'>|</span>                    <span class='comment'># Yields an open file object, returns the return value of
</span>  <span class='id data'>data</span> <span class='op'>=</span> <span class='id f'>f</span><span class='period'>.</span><span class='id read'>read</span><span class='lparen'>(</span><span class='int'>256</span><span class='rparen'>)</span>                             <span class='comment'>#  the block, and closes the file object
</span><span class='kw'>end</span>
<span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id path'>path</span>                           <span class='comment'># =&gt; '/var/folders/st/strHv74sH044JPabSiODz...' i.e. the path of the tempfile
</span><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id size'>size</span>                           <span class='comment'># =&gt; 134507 (size in bytes)
</span></pre>

<p>We can process the data</p>

<pre class="code"><span class='id temp_object'>temp_object</span> <span class='op'>=</span> <span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id process'>process</span><span class='lparen'>(</span><span class='symbol'>:resize</span><span class='comma'>,</span> <span class='symbol'>:geometry</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>20x20</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>   <span class='comment'># returns an ExtendedTempObject, with similar properties
</span><span class='id temp_object'>temp_object</span><span class='period'>.</span><span class='id width'>width</span>                                                        <span class='comment'># =&gt; 20
</span><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id width'>width</span>                                                  <span class='comment'># =&gt; 280 (no change)
</span>
<span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id process!'>process!</span><span class='lparen'>(</span><span class='symbol'>:resize</span><span class='comma'>,</span> <span class='symbol'>:geometry</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>20x20</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>                <span class='comment'># (operates on self)
</span><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id width'>width</span>                                                  <span class='comment'># =&gt; 20
</span></pre>

<p>The available processing methods available (i.e. 'resize', etc.) come from the <tt><a href="Dragonfly.html" title="Dragonfly (module)">Dragonfly</a></tt> app's registered processors - see <a href="file.Processing.html" title="Processing">Processing</a></p>

<p>We can encode the data</p>

<pre class="code"><span class='id temp_object'>temp_object</span> <span class='op'>=</span> <span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id encode'>encode</span><span class='lparen'>(</span><span class='symbol'>:gif</span><span class='rparen'>)</span>   <span class='comment'># returns an ExtendedTempObject, with similar properties
</span><span class='id temp_object'>temp_object</span><span class='period'>.</span><span class='id mime_type'>mime_type</span>                          <span class='comment'># =&gt; 'image/gif'
</span><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id mime_type'>mime_type</span>                    <span class='comment'># =&gt; 'image/png' (no change)
</span>
<span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id encode!'>encode!</span><span class='lparen'>(</span><span class='symbol'>:gif</span><span class='rparen'>)</span>                <span class='comment'># (operates on self)
</span><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id mime_type'>mime_type</span>                    <span class='comment'># =&gt; 'image/gif'
</span></pre>

<p>The encoding is implemented by the <tt><a href="Dragonfly.html" title="Dragonfly (module)">Dragonfly</a></tt> app's registered encoders (which will usually just be one) - see <a href="file.Encoding.html" title="Encoding">Encoding</a></p>

<p>If we have a combination of processing and encoding that we often use, e.g.</p>

<pre class="code"><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id process'>process</span><span class='lparen'>(</span><span class='symbol'>:resize_and_crop</span><span class='comma'>,</span> <span class='symbol'>:width</span> <span class='op'>=&gt;</span> <span class='int'>300</span><span class='comma'>,</span> <span class='symbol'>:height</span> <span class='op'>=&gt;</span> <span class='int'>200</span><span class='comma'>,</span> <span class='symbol'>:gravity</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>nw</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id encode'>encode</span><span class='lparen'>(</span><span class='symbol'>:gif</span><span class='rparen'>)</span>
</pre>

<p>then we can register a shortcut (see <a href="file.Shortcuts.html" title="Shortcuts">Shortcuts</a>) and use that with <code>transform</code>, e.g.</p>

<pre class="code"><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id transform'>transform</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>300x200#nw</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:gif</span><span class='rparen'>)</span>           <span class='comment'># returns an ExtendedTempObject, like process and encode above
</span><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id transform!'>transform!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>300x200#nw</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:gif</span><span class='rparen'>)</span>          <span class='comment'># (operates on self)
</span></pre>

<h2>Persisting</h2>

<p>When the model is saved, a before_save callback persists the data to the <tt><a href="Dragonfly/App.html" title="Dragonfly::App (class)">App</a></tt>'s configured datastore (see <a href="file.DataStorage.html" title="DataStorage">DataStorage</a>)
The uid column is then filled in.</p>

<pre class="code"><span class='id album'>album</span> <span class='op'>=</span> <span class='const'>Album</span><span class='period'>.</span><span class='id new'>new</span>

<span class='id album'>album</span><span class='period'>.</span><span class='id cover_image_uid'>cover_image_uid</span>                                   <span class='comment'># =&gt; nil
</span>
<span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>path/to/my_image.png</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='id album'>album</span><span class='period'>.</span><span class='id cover_image_uid'>cover_image_uid</span>                                   <span class='comment'># =&gt; 'PENDING' (actually a Dragonfly::ActiveRecordExtensions::PendingUID)
</span>
<span class='id album'>album</span><span class='period'>.</span><span class='id save'>save</span>
<span class='id album'>album</span><span class='period'>.</span><span class='id cover_image_uid'>cover_image_uid</span>                                   <span class='comment'># =&gt; '2009/12/05/170406_file' (some unique uid, used by the datastore)
</span></pre>

<h2>URLs</h2>

<p>Once the model is saved, we can get a url for the image (which is served by the Dragonfly <tt><a href="Dragonfly/App.html" title="Dragonfly::App (class)">App</a></tt> itself):</p>

<pre class="code"><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id url'>url</span>                       <span class='comment'># =&gt; '/media/2009/12/05/170406_file' (Note there is no extension)
</span><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id url'>url</span><span class='lparen'>(</span><span class='symbol'>:png</span><span class='rparen'>)</span>                 <span class='comment'># =&gt; '/media/2009/12/05/170406_file.png'
</span><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id url'>url</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>300x200#nw</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:gif</span><span class='rparen'>)</span>   <span class='comment'># =&gt; '/media/2009/12/05/170406_file.tif?m=resize_and_crop&amp;o[height]=...'
</span></pre>

<p>Note that any arguments given to <code>url</code> are of the same form as those used for <code>transform</code>, i.e. those registered as shortcuts (see <a href="file.Shortcuts.html" title="Shortcuts">Shortcuts</a>)
These urls are what you would use in, for example, html views.</p>

<h2>Validations</h2>

<p><code>validates_presence_of</code> and <code>validates_size_of</code> work out of the box, and Dragonfly provides two more,
<code>validates_property</code> and <code>validates_mime_type_of</code> (which is actually just a thin wrapper around <code>validates_property</code>).</p>

<pre class="code"><span class='kw'>class</span> <span class='const'>Album</span>

  <span class='id validates_presence_of'>validates_presence_of</span> <span class='symbol'>:cover_image</span>
  <span class='id validates_size_of'>validates_size_of</span> <span class='symbol'>:cover_image</span><span class='comma'>,</span> <span class='symbol'>:maximum</span> <span class='op'>=&gt;</span> <span class='int'>500</span><span class='period'>.</span><span class='id kilobytes'>kilobytes</span>
  <span class='id validates_mime_type_of'>validates_mime_type_of</span> <span class='symbol'>:cover_image</span><span class='comma'>,</span> <span class='symbol'>:in</span> <span class='op'>=&gt;</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>image/jpeg</span><span class='words_sep'> </span><span class='tstring_content'>image/png</span><span class='words_sep'> </span><span class='tstring_content'>image/gif</span><span class='words_sep'>)</span>
  <span class='id validates_property'>validates_property</span> <span class='symbol'>:width</span><span class='comma'>,</span> <span class='symbol'>:of</span> <span class='op'>=&gt;</span> <span class='symbol'>:cover_image</span><span class='comma'>,</span> <span class='symbol'>:in</span> <span class='op'>=&gt;</span> <span class='lparen'>(</span><span class='int'>0</span><span class='op'>..</span><span class='int'>400</span><span class='rparen'>)</span>

  <span class='comment'># ...
</span><span class='kw'>end</span>
</pre>

<p>The property argument of <code>validates_property</code> will generally be one of the registered analyser properties as described in <a href="file.Analysers.html" title="Analysers">Analysers</a>.
However it would actually work for arbitrary properties, including those of non-dragonfly model attributes.
See <tt><a href="Dragonfly/ActiveRecordExtensions/Validations.html" title="Dragonfly::ActiveRecordExtensions::Validations (module)">Validations</a></tt> for more info.</p>

<h2>Name and extension</h2>

<p>If the object assigned is a file, or responds to <code>original_filename</code> (as is the case with file uploads in Rails, etc.), then <code>name</code> and <code>ext</code> will be set.</p>

<pre class="code"><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>path/to/my_image.png</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>

<span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id name'>name</span>    <span class='comment'># =&gt; 'my_image.png'
</span><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id ext'>ext</span>     <span class='comment'># =&gt; 'png'
</span></pre>

<h2>'Magic' Attributes</h2>

<p>The only model column necessary for the migration, as described above, is the uid column, e.g. <code>cover_image_uid</code>.
However, in many cases you may want to record some other properties in the database, whether it be for using in sql queries, or
for caching an attribute for performance reasons.</p>

<p>For the properties <code>name</code>, <code>ext</code>, <code>size</code> and any of the registered analysis methods (e.g. <code>width</code>, etc. in the examples above),
this is done automatically for you, if the corresponding column exists.
For example:</p>

<p>In the migration:</p>

<pre class="code"><span class='id add_column'>add_column</span> <span class='symbol'>:albums</span><span class='comma'>,</span> <span class='symbol'>:cover_image_ext</span><span class='comma'>,</span> <span class='symbol'>:string</span>
<span class='id add_column'>add_column</span> <span class='symbol'>:albums</span><span class='comma'>,</span> <span class='symbol'>:cover_image_width</span><span class='comma'>,</span> <span class='symbol'>:integer</span>
</pre>

<p>These are automatically set when assigned:</p>

<pre class="code"><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>path/to/my_image.png</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>

<span class='id album'>album</span><span class='period'>.</span><span class='id cover_image_ext'>cover_image_ext</span>    <span class='comment'># =&gt; 'png'
</span><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image_width'>cover_image_width</span>  <span class='comment'># =&gt; 280
</span></pre>

<p>They can be used to avoid retrieving data from the datastore for analysis (e.g. if you've used something like S3 to store data - see <a href="file.DataStorage.html" title="DataStorage">DataStorage</a>)</p>

<pre class="code"><span class='id album'>album</span> <span class='op'>=</span> <span class='const'>Album</span><span class='period'>.</span><span class='id first'>first</span>

<span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id ext'>ext</span>       <span class='comment'># =&gt; 'png'  - no need to retrieve data - takes it from `cover_image_ext`
</span><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id width'>width</span>     <span class='comment'># =&gt; 280    - no need to retrieve data - takes it from `cover_image_width`
</span><span class='id album'>album</span><span class='period'>.</span><span class='id cover_image'>cover_image</span><span class='period'>.</span><span class='id size'>size</span>      <span class='comment'># =&gt; 134507 - but it needs to retrieve data from the data store, then analyse
</span></pre></div>
      </div>
      <div class="col2">
        <ul class="main_files clearfix">
          <li><a href="file.README.html" title="Quick start for Rails (README)">Quick start for Rails (README)</a></li><li><a href="file.GettingStarted.html" title="Getting started">Getting started</a></li><li><a href="file.UsingWithRails.html" title="Using with Rails">Using with Rails</a></li><li><a href="file.ActiveRecord.html" title="Using with ActiveRecord">Using with ActiveRecord</a></li><li><a href="file.DataStorage.html" title="Data Storage">Data Storage</a></li><li><a href="file.Analysers.html" title="Analysers">Analysers</a></li><li><a href="file.Processing.html" title="Processing">Processing</a></li><li><a href="file.Encoding.html" title="Encoding">Encoding</a></li><li><a href="file.Shortcuts.html" title="Shortcuts for processing and encoding">Shortcuts for processing and encoding</a></li><li><a href="file.MimeTypes.html" title="Mime Types">Mime Types</a></li><li><a href="file.ExampleUseCases.html" title="Example use cases">Example use cases</a></li><li><a href="file.History.html" title="History">History</a></li>
        </ul>
      </div>
    </div>
    
    <div id="footer">
  Generated on Wed Aug 25 00:53:43 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool">yard</a>
  0.5.8 (ruby-1.9.2).
</div>

  </body>
</html>